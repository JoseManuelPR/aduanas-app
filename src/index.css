@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom Font Import - Distinctive typography */
@import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,400&display=swap');

/* Estilos base */
@layer base {
  html {
    scroll-behavior: smooth;
  }
  
  body {
    @apply bg-slate-50 text-gray-900 antialiased;
    font-family: 'Plus Jakarta Sans', system-ui, -apple-system, sans-serif;
  }

  /* Enhanced typography hierarchy */
  h1 { @apply text-3xl font-bold tracking-tight text-gray-900; }
  h2 { @apply text-2xl font-bold tracking-tight text-gray-900; }
  h3 { @apply text-xl font-semibold text-gray-800; }
  h4 { @apply text-lg font-semibold text-gray-800; }
  h5 { @apply text-base font-semibold text-gray-700; }
  h6 { @apply text-sm font-semibold text-gray-700; }

  /* Scrollbar personalizado */
  ::-webkit-scrollbar {
    @apply w-2;
  }

  ::-webkit-scrollbar-track {
    @apply bg-gray-100 rounded-full;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-gray-300 rounded-full hover:bg-gray-400;
  }
}

/* Componentes reutilizables */
@layer components {
  /* Cards */
  .card {
    @apply bg-white rounded-lg shadow-card border border-gray-100 transition-all duration-200;
  }

  .card-hover {
    @apply hover:shadow-card-hover hover:-translate-y-0.5;
  }

  /* Dashboard Section Blocks - Clear functional separation */
  .dashboard-section {
    @apply mb-8;
  }

  .dashboard-section-header {
    @apply flex items-center justify-between mb-4;
  }

  .dashboard-section-title {
    @apply text-lg font-bold text-gray-800 flex items-center gap-2;
  }

  .dashboard-section-subtitle {
    @apply text-sm text-gray-500 mt-0.5;
  }

  /* Executive Summary Panel */
  .executive-panel {
    @apply bg-gradient-to-br from-aduana-azul to-aduana-azul-700 rounded-2xl p-6 text-white shadow-lg;
    @apply relative overflow-hidden;
  }

  .executive-panel::before {
    content: '';
    @apply absolute top-0 right-0 w-64 h-64 bg-white/5 rounded-full -translate-y-1/2 translate-x-1/2;
  }

  .executive-panel::after {
    content: '';
    @apply absolute bottom-0 left-0 w-48 h-48 bg-white/5 rounded-full translate-y-1/2 -translate-x-1/2;
  }

  /* Alert Priority Levels */
  .alert-critical {
    @apply border-l-4 border-l-red-600 bg-red-50;
  }

  .alert-high {
    @apply border-l-4 border-l-orange-500 bg-orange-50;
  }

  .alert-medium {
    @apply border-l-4 border-l-amber-500 bg-amber-50;
  }

  .alert-low {
    @apply border-l-4 border-l-blue-400 bg-blue-50;
  }

  /* Action Button Styles */
  .action-button {
    @apply inline-flex items-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm;
    @apply transition-all duration-200 shadow-sm;
  }

  .action-button-critical {
    @apply bg-red-600 text-white hover:bg-red-700 hover:shadow-md;
  }

  .action-button-primary {
    @apply bg-aduana-azul text-white hover:bg-aduana-azul-600 hover:shadow-md;
  }

  .action-button-secondary {
    @apply bg-white text-gray-700 border border-gray-300 hover:bg-gray-50;
  }

  /* Quick Action Cards */
  .quick-action-card {
    @apply bg-white rounded-xl p-4 border border-gray-100 shadow-sm;
    @apply hover:shadow-md hover:border-aduana-azul-200 transition-all duration-200 cursor-pointer;
    @apply flex items-center gap-4;
  }

  /* Visual Separator */
  .section-divider {
    @apply border-t border-gray-200 my-8;
  }

  /* Status Dot Indicators */
  .status-dot {
    @apply w-2.5 h-2.5 rounded-full flex-shrink-0;
  }

  .status-dot-critical {
    @apply bg-red-500 animate-pulse;
  }

  .status-dot-warning {
    @apply bg-amber-500;
  }

  .status-dot-success {
    @apply bg-emerald-500;
  }

  .status-dot-info {
    @apply bg-blue-500;
  }

  .status-dot-neutral {
    @apply bg-gray-400;
  }

  /* Metric Box */
  .metric-box {
    @apply bg-white rounded-xl p-5 border border-gray-100 shadow-sm;
  }

  .metric-box-highlight {
    @apply bg-gradient-to-br from-aduana-azul-50 to-white border-aduana-azul-200;
  }

  /* Badges de estado */
  .badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
  }

  .badge-pendiente {
    @apply bg-amber-100 text-amber-800;
  }

  .badge-proceso {
    @apply bg-blue-100 text-blue-800;
  }

  .badge-resuelto {
    @apply bg-emerald-100 text-emerald-800;
  }

  .badge-rechazado {
    @apply bg-red-100 text-red-800;
  }

  .badge-vencido {
    @apply bg-red-500 text-white animate-pulse-alert;
  }

  /* Botones */
  .btn-primary {
    @apply bg-aduana-azul hover:bg-aduana-azul-600 text-white font-medium py-2 px-4 rounded-md transition-all duration-200 shadow-sm hover:shadow-md;
  }

  .btn-danger {
    @apply bg-aduana-rojo hover:bg-aduana-rojo-600 text-white font-medium py-2 px-4 rounded-md transition-all duration-200 shadow-sm hover:shadow-md;
  }

  .btn-secondary {
    @apply bg-white border border-gray-300 hover:bg-gray-50 text-gray-700 font-medium py-2 px-4 rounded-md transition-all duration-200;
  }

  .btn-ghost {
    @apply bg-transparent hover:bg-gray-100 text-gray-700 font-medium py-2 px-4 rounded-md transition-all duration-200;
  }

  /* Stats Cards */
  .stat-card {
    @apply card p-5 flex items-center gap-4;
  }

  .stat-icon {
    @apply w-12 h-12 rounded-lg flex items-center justify-center;
  }

  /* Alertas */
  .alert {
    @apply rounded-lg p-4 flex items-start gap-3;
  }

  .alert-warning {
    @apply bg-amber-50 border border-amber-200 text-amber-800;
  }

  .alert-danger {
    @apply bg-red-50 border border-red-200 text-red-800;
  }

  .alert-info {
    @apply bg-blue-50 border border-blue-200 text-blue-800;
  }

  .alert-success {
    @apply bg-emerald-50 border border-emerald-200 text-emerald-800;
  }

  /* Tabs */
  .tab {
    @apply px-4 py-2 text-sm font-medium text-gray-600 hover:text-aduana-azul border-b-2 border-transparent transition-all duration-200;
  }

  .tab-active {
    @apply text-aduana-azul border-aduana-azul;
  }

  /* Form elements */
  .form-input {
    @apply w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-aduana-azul-200 focus:border-aduana-azul transition-all duration-200;
  }

  .form-select {
    @apply form-input appearance-none bg-white cursor-pointer;
  }

  .form-label {
    @apply block text-sm font-medium text-gray-700 mb-1;
  }

  /* Table styles */
  .table-header {
    @apply bg-aduana-azul text-white;
  }

  .table-row {
    @apply border-b border-gray-200 hover:bg-gray-50 transition-colors duration-150;
  }

  .table-cell {
    @apply px-4 py-3 text-sm;
  }

  /* Sidebar active state */
  .sidebar-item {
    @apply flex items-center gap-3 px-3 py-2.5 rounded-lg text-gray-600 hover:bg-gray-100 transition-all duration-200;
  }

  .sidebar-item-active {
    @apply bg-aduana-azul-50 text-aduana-azul font-medium border-l-4 border-aduana-azul;
  }

  /* KPI Card */
  .kpi-card {
    @apply card p-6 relative overflow-hidden;
  }

  .kpi-card::before {
    content: '';
    @apply absolute top-0 left-0 w-1 h-full;
  }

  .kpi-card-azul::before {
    @apply bg-aduana-azul;
  }

  .kpi-card-rojo::before {
    @apply bg-aduana-rojo;
  }

  .kpi-card-verde::before {
    @apply bg-emerald-500;
  }

  .kpi-card-amarillo::before {
    @apply bg-amber-500;
  }

  /* Timeline */
  .timeline-item {
    @apply relative pl-8 pb-6 border-l-2 border-gray-200 last:border-l-transparent last:pb-0;
  }

  .timeline-dot {
    @apply absolute left-0 top-0 -translate-x-1/2 w-4 h-4 rounded-full border-2 border-white;
  }

  /* Progress bar */
  .progress-bar {
    @apply h-2 bg-gray-200 rounded-full overflow-hidden;
  }

  .progress-fill {
    @apply h-full rounded-full transition-all duration-500;
  }
}

/* Utilidades personalizadas */
@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  /* Grid util para que las tarjetas se autoajusten seg√∫n ancho disponible */
  .auto-grid {
    grid-template-columns: repeat(auto-fit, minmax(190px, 1fr));
  }

  /* Staggered animation delays for reveal effects */
  .animate-delay-75 {
    animation-delay: 75ms;
  }

  .animate-delay-100 {
    animation-delay: 100ms;
  }

  .animate-delay-150 {
    animation-delay: 150ms;
  }

  .animate-delay-200 {
    animation-delay: 200ms;
  }

  .animate-delay-300 {
    animation-delay: 300ms;
  }

  .animate-delay-400 {
    animation-delay: 400ms;
  }

  .animate-delay-500 {
    animation-delay: 500ms;
  }

  .animate-delay-600 {
    animation-delay: 600ms;
  }

  .animate-delay-700 {
    animation-delay: 700ms;
  }

  /* Fill mode for staggered animations */
  .animate-fill-both {
    animation-fill-mode: both;
  }

  /* Breathing room utilities */
  .breathing-section {
    @apply py-6;
  }

  .breathing-section-lg {
    @apply py-8;
  }

  /* Visual hierarchy helpers */
  .hierarchy-primary {
    @apply text-xl font-bold text-gray-900;
  }

  .hierarchy-secondary {
    @apply text-lg font-semibold text-gray-800;
  }

  .hierarchy-tertiary {
    @apply text-base font-medium text-gray-700;
  }

  .hierarchy-subtle {
    @apply text-sm text-gray-500;
  }

  /* Number display styles */
  .number-display {
    @apply tabular-nums font-bold tracking-tight;
  }

  .number-display-xl {
    @apply text-4xl number-display;
  }

  .number-display-lg {
    @apply text-3xl number-display;
  }

  .number-display-md {
    @apply text-2xl number-display;
  }

  /* Glass morphism effect */
  .glass {
    @apply bg-white/80 backdrop-blur-sm;
  }

  .glass-dark {
    @apply bg-gray-900/80 backdrop-blur-sm;
  }

  /* Focus ring for accessibility */
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-aduana-azul focus:ring-offset-2;
  }

  /* Gradient text */
  .text-gradient {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-aduana-azul to-aduana-azul-600;
  }

  /* Smooth hover transform */
  .hover-lift {
    @apply transition-transform duration-200 hover:-translate-y-0.5;
  }

  /* Card glow effect on hover */
  .card-glow {
    @apply relative;
  }

  .card-glow::before {
    content: '';
    @apply absolute inset-0 rounded-xl bg-gradient-to-r from-aduana-azul/20 to-transparent opacity-0 transition-opacity duration-300;
  }

  .card-glow:hover::before {
    @apply opacity-100;
  }
}

/* ============================================
   CHATBOT STYLES
   ============================================ */

/* Chatbot animations */
@keyframes chatbotSlideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes chatbotPulse {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.05);
  }
}

@keyframes chatbotBounce {
  0%, 80%, 100% {
    transform: translateY(0);
  }
  40% {
    transform: translateY(-6px);
  }
}

@keyframes chatbotFadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* Chatbot message animations */
.chatbot-message-enter {
  animation: chatbotSlideUp 0.3s ease-out forwards;
}

/* Chatbot floating button hover effect */
.chatbot-button:hover {
  animation: chatbotPulse 0.5s ease-in-out;
}

/* Chatbot typing indicator */
.chatbot-typing-dot {
  animation: chatbotBounce 1.4s infinite ease-in-out both;
}

.chatbot-typing-dot:nth-child(1) {
  animation-delay: -0.32s;
}

.chatbot-typing-dot:nth-child(2) {
  animation-delay: -0.16s;
}

/* Chatbot window styles */
.chatbot-window {
  @apply fixed bottom-24 right-6 z-40;
  @apply w-[400px] h-[600px] max-h-[80vh];
  @apply bg-white rounded-2xl shadow-2xl;
  @apply flex flex-col overflow-hidden;
  @apply border border-gray-200;
}

/* Chatbot scrollbar */
.chatbot-messages::-webkit-scrollbar {
  @apply w-1.5;
}

.chatbot-messages::-webkit-scrollbar-track {
  @apply bg-transparent;
}

.chatbot-messages::-webkit-scrollbar-thumb {
  @apply bg-gray-300 rounded-full;
}

.chatbot-messages::-webkit-scrollbar-thumb:hover {
  @apply bg-gray-400;
}

/* Chatbot prose styles */
.chatbot-prose {
  @apply text-sm leading-relaxed;
}

.chatbot-prose strong {
  @apply font-semibold text-gray-900;
}

.chatbot-prose em {
  @apply text-gray-500 not-italic;
}

/* Chatbot quick action buttons */
.chatbot-quick-action {
  @apply inline-flex items-center gap-1.5;
  @apply px-3 py-1.5 rounded-full;
  @apply text-sm font-medium;
  @apply transition-all duration-200;
}

.chatbot-quick-action:hover {
  @apply scale-105;
}

.chatbot-quick-action-primary {
  @apply bg-aduana-azul text-white;
  @apply hover:bg-aduana-azul-600;
  @apply shadow-sm;
}

.chatbot-quick-action-secondary {
  @apply bg-white text-aduana-azul;
  @apply border border-aduana-azul-200;
  @apply hover:bg-aduana-azul-50;
}

.chatbot-quick-action-ghost {
  @apply bg-gray-100 text-gray-700;
  @apply hover:bg-gray-200;
}

/* Chatbot mobile styles */
@media (max-width: 480px) {
  .chatbot-window {
    @apply w-full h-[80vh];
    @apply bottom-0 right-0 left-0;
    @apply rounded-b-none rounded-t-2xl;
  }
  
  .chatbot-button {
    @apply bottom-4 right-4;
  }
}

/* Ocultar calendario nativo de input date */
input::-webkit-calendar-picker-indicator {
  display: none;
}

/* Focus visible para accesibilidad */
:focus-visible {
  @apply outline-2 outline-offset-2 outline-aduana-azul;
}
